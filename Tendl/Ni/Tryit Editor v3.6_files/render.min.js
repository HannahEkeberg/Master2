!function r(o,a,s){var c,e;function l(n,e){var t,i;if(!a[n]){if(!o[n]){if(t="function"==typeof require&&require,!e&&t)return t(n,!0);if(c)return c(n,!0);throw new Error("Cannot find module '"+n+"'")}i=a[n]={exports:{}},o[n][0].call(i.exports,function(e){var t=o[n][1][e];return l(t||e)},i,i.exports,r,o,a,s)}return a[n].exports}for(c="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(n,e,t){var I,i,r,p,f,g;r="v1.5.5",p="click",f="custom_event",g="custom_progress_event",n("./utils/extensions/string"),n("./utils/extensions/math"),n("./utils/polyfills/console"),I=n("./utils/BFUtils")(),window.BFUtils||(window.BFUtils=I),i=function(u,w,e){var s,c,l;return u.$renderVersion=r,u.protocol=0===e.src.indexOf("http")?e.src.split("/")[0]:"",u.$vars=u.$vars||{},u.$params=w,u.$script=e,n("./render/custom-fixes/mrgreen-flashtalking")(u),c=!0,l=I.urlParametersToJson(e.src),e.parentNode&&"HEAD"!=e.parentNode.nodeName?t(u,w,e):I.bindEvent(document,"ready",function(){c=!1,t(u,w,e);try{I.unbindEvent(document,"ready",arguments.callee)}catch(e){}}),s;function b(e,t){var n;document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):(n=document.createEventObject()).eventType=t,n.eventName=t,document.createEvent&&e.dispatchEvent(n)}function y(e,t){"complete"===(t=t||window).document.readyState?e():I.bindEvent(t,"load",e)}function a(e){var t,n,i,r,o,a,s,c,l,d=e.data;try{String.isString(d)&&(d=JSON.parse(d))}catch(e){d=null}if(d&&(t=d.event,n=d.data,i=d.params,t&&n&&i&&i.placement===u.id)){switch(t){case p:I.click(u,w,i.spotIndexes,!0,n);break;case f:case g:r=100,(o=n.name)&&(a=parseFloat(n.value),s=n.id,c=n.label,l={n:String(o).substr(0,r)},null!=s&&(l.id=String(s).substr(0,r)),null!=c&&(l.l=String(c).substr(0,r)),NaN!==a&&(l.m=Math.round(100*a)/100),t===g?I.queueProgressEvent(u,4,l,i.spotIndexes,!1,w):I.queueTrackingEvent(u,4,l,i.spotIndexes,!1,w))}e&&e.stopImmediatePropagation&&e.stopImmediatePropagation()}}function E(){var e,t,n,i=s.firstChild,r=!1,o=s.offsetWidth/Math.toNumber(u.ad.spots[0].size.width),a=Math.toNumber(u.ad.size.width)/Math.toNumber(u.ad.size.height);if(u.$vars.$scale=o||1,1<(e=u.ad.type.dependencies).length)for(t=1;t<e.length;t++)(n=e[t]).func&&this[n.func+"Resize"]&&this[n.func+"Resize"](s,u,o)&&(r=!0);r||(I.supportsHtml5()&&(I.setVendorStyle(i,"transform","scale("+o+")translate3d(0,0,0)"),I.setVendorStyle(i,"transformOrigin","0 0")),i.style.width=s.offsetWidth+"px",i.style.height=i.parentNode.offsetWidth/a+"px",s.style.height=i.style.height=s.offsetWidth/a+"px")}function t(t,n,e){var i,r,o;window.BFBanners=window.BFBanners||[],window.BFBanners.push({placement:t,params:n}),i="bf_timer_"+t.id+"_"+(new Date).getTime(),window[i]=null,function(){I.bindEvent(window,"message",a),this.eventListenerInitiated=!0}(),b(e,"loaded"),n.politeloading&&(t.politeLoading="off"!=n.politeloading),n.targeturl&&(t.targetUrl=n.targeturl),n.targetwindow&&(t.targetWindow=n.targetwindow),n.display&&(t.displayType=n.display),n.responsive&&(t.responsive="on"==n.responsive),t.imageIframe="off"!==n.imageiframe,s=function(e,t){var n,i,r,o=l.container||u.container,a=document.createElement("div");a.id="bf"+(new Date).getTime(),a.style.width=u.responsive?"100%":e.width,a.style.height=u.responsive?"100%":e.height,a.style.overflow="hidden",a.style.position="relative";try{n=u.account.id,(w&&"on"===w.tobii||"avanza"===n||"electrolux"===n||"atg"===n||"c-more"===n||"nordax"===n)&&a.setAttribute("data-tobii-beacon-tags","customer_id=bannerflow,ad_id="+u.id+",brand="+u.brand.id)}catch(e){}return o||!c?o?(i=document.getElementById(o))&&(i.innerHTML="",i.appendChild(a)):document.body.appendChild(a):u.ad.type.settings.stopRender||t.parentNode.insertBefore(a,t.nextSibling),r=document.createElement("div"),a.appendChild(r),a}(t.ad.size,e),t.responsive&&(I.bindEvent(window,"load",function(){I.bindEvent(window,"resize",E)}),I.bindEvent(s,"resize",E),0===s.parentNode.offsetWidth&&(window[i]=setInterval(function(){1<=s.parentNode.offsetWidth&&(clearInterval(window[i]),E())},100))),t.targetUrl&&0<t.targetUrl.length&&(0===t.targetUrl.toLowerCase().indexOf("www")&&(t.targetUrl="http://"+t.targetUrl),"="==t.targetUrl.substring(t.targetUrl.length-1)&&(t.targetUrl+="[target_url_esc]"),"%3D"==t.targetUrl.substring(t.targetUrl.length-3)&&(t.targetUrl+="[target_url_esc_esc]")),"animated"!=t.displayType||I.supportsHtml5()||(t.displayType="image"),x()||(t.ad.type.$unsupported=!0),t.$bannersToDisplay=function(e,t){var n,i,r,o,a,s,c,l,d,u,p,f,g;for(n=[],i=0;i<e.ad.spots.length;i++){switch((r=e.ad.spots[i]).type){case"regular":a=r.selections[0];break;case"ab-test":for(s=Math.random(),l=c=0;l<r.selections.length;l++)if(c+=r.selections[l].weight,s<=c){a=r.selections[l];break}break;default:console.log("Incorrect ad type: "+r.id+" - "+r.type.name)}if(a){if(1<(d=a.banners).length)if(null==a.localization){for(u=t?t.substr(0,2):(navigator.userLanguage?navigator.userLanguage.toLowerCase():window.navigator.language?window.navigator.language.toLowerCase():e.brand.defaultLocalization).substr(0,2),p=0;p<d.length;p++)for(f=d[p],g=f.localization.split(","),l=0;l<g.length;l++){if(g[l].split("-")[0]==u){o=f;break}g[l]!=e.brand.defaultLocalization||o||(o=f)}o=o||d[0]}else for(p=0;p<d.length;p++){if(f=d[p],-1<r.localization.indexOf(f.localization)){o=f;break}f.localization!=e.brand.defaultLocalization||o||(o=f)}else 1==d.length?o=d[0]:console.log("No banner available in selection for spot: "+r.id);o?n.push(o):console.log("No banner was selected/found for spot: "+r.id),e.ad.spots[i].selectedBanner=o}}return n}(t,n.localization),"true"===t.ad.type.settings.renderOnlyContainer&&x()||function(i,r,o){var e,t,n,a,s,c,l,d,u=[],p=r.ad.type.$unsupported?1:i.length,f=r.politeLoading,g=r.displayType,m=0;function h(){var e,t=u.length;1===m&&(f&&b(o,"politedone"),r.ad.type.settings.stopRender||r.bftracking&&r.bftracking.preview||"unibet"!==(e=r.account.id)&&"bannerflow-enterprise"!==e&&"tre-3"!==e&&"blocket"!==e&&"sumup"!==e||I.queueTrackingEvent(r,10,null,0,!0,w)),f&&"animated"==g&&t++,m==t&&b(o,"bannersloaded")}function v(){var e,t,n=f&&"animated"==g?0:1;for(e=n;e<u.length;e++)(t=I.createIframe(r,r.ad.spots[e],i[e],r.displayType,w)).style.opacity=0,o.children[e].appendChild(t),t.onload=function(){var e,t;m++,this.onload=null,e=Math.toNumber(this["data-index"])||0,o.children[e].firstChild&&0===e&&((t=o.children[e].firstChild).style.zIndex="1",t.style.opacity=0,setTimeout(function(){t.style.display="none"},300)),this.style.opacity="1",h()}}for(e=0;e<p&&(t=i[e],n=r.ad.spots[e],(a=document.createElement("div")).style.width=r.responsive&&!I.supportsHtml5()?Math.toNumber(n.size.width)/Math.toNumber(r.ad.size.width)*100+"%":n.size.width,a.style.height=r.responsive&&!I.supportsHtml5()?Math.toNumber(n.size.height)/Math.toNumber(r.ad.size.height)*100+"%":n.size.height,0===e?(s="image"==g||f&&"animated"==g?"image":"animated",c=I.createIframeOrImage(r,n,t,s,w),I.bindEvent(c,"load",function(){m++,c.style.opacity=1,h()}),c.style.opacity=0,c.style.transition="opacity 0.1s",a.appendChild(c)):(a.style.display="none",a.style.position="absolute",a.style.top="0",a.style.left="0"),u.push(a),o.appendChild(a),x());e++);if(f)if(window.top!==window){try{window.top.document.readyState,l=window.top}catch(e){}l?y(v,l):window.BFLoadManager?BFLoadManager.onLoad(v):window.dhtml&&window.dhtml.sharedEvents?window.dhtml.sharedEvents.once("pageLoadComplete",function(){y(v)}):window.Enabler&&Enabler.isInitialized?(d=function(){Enabler.isPageLoaded()?v():Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,v)},Enabler.isInitialized()?d():Enabler.addEventListener(studio.events.StudioEvent.INIT,d)):y(function(){setTimeout(v,1e3)})}else y(v);else v();r.responsive&&E()}(t.$bannersToDisplay,t,s.firstChild),t.ad.type.settings.stopRender||I.trackImpression(t,n,{vw:I.supportViewable()?1:0}),r=function(e){I.processProgressEventQueue(t),I.sendTrackingData(t,n)},I.bindEvent(window,"beforeunload",r),I.bindEvent(window,"pagehide",r),I.isMobile()&&(o=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/i.test(navigator.userAgent),window.mraid&&o&&window.mraid.addEventListener("viewableChange",function(e){var t=s.getElementsByClassName("bf_animated");t.length&&e&&t[0].contentWindow.postMessage({type:"restartBanner"},"*")}),I.bindEvent(document,"visibilitychange",function(e){"hidden"==document.visibilityState&&r(e)})),b(e,"rendered"),t.$it=(new Date).getTime()}function x(){var e,t,n=u.ad.type.dependencies;if(1<n.length)for(e=1;e<n.length;e++)if((t=n[e]).func&&this[t.func+"Compatible"]&&!this[t.func+"Compatible"](u))return!1;return!0}},window.BannerFlowRender=i,window.BannerFlowRenderScripts=window.BannerFlowRenderScripts||[],window.BannerFlowRenderScripts.push({func:i,v:r})},{"./render/custom-fixes/mrgreen-flashtalking":2,"./utils/BFUtils":3,"./utils/extensions/math":9,"./utils/extensions/string":10,"./utils/polyfills/console":13}],2:[function(e,t,n){t.exports=function(e){try{if(e.account&&"mr-green"==e.account.id&&window.myFT){var t=document.getElementById("banner");t&&(t.style.opacity="0",t.style.background="#fff")}}catch(e){}}},{}],3:[function(c,e,t){e.exports=function(){var e=c("./device"),t=c("./event"),n=c("./style"),i=c("./tracking")(),r=c("./macro"),o=c("./json"),a=c("./banners")(),s=c("./date");return{isMobile:e.isMobile,isTouchDevice:e.isTouchDevice,supportsHtml5:e.supportsHtml5,bindEvent:t.bindEvent,unbindEvent:t.unbindEvent,dispatchEvent:t.dispatchEvent,prefixes:n.prefixes,setVendorStyle:n.setVendorStyle,getStyle:n.getStyle,trackingData:i.trackingData,getImpressionPixelUrl:i.getImpressionPixelUrl,loadPixel:i.loadPixel,sendBeacon:i.sendBeacon,getClickPixelUrl:i.getClickPixelUrl,trackImpression:i.trackImpression,click:i.click,isInView:i.isInView,viewGrade:i.viewGrade,getTrackingData:i.getTrackingData,queueTrackingEvent:i.queueTrackingEvent,queueProgressEvent:i.queueProgressEvent,processProgressEventQueue:i.processProgressEventQueue,sendTrackingData:i.sendTrackingData,fixUrl:i.fixUrl,supportViewable:i.supportViewable,initViewable:i.initViewable,getTracking:i.getProtocol,getDomain:i.getDomain,resolveMacros:r.resolveMacros,getMacros:r.getMacros,toJsonString:o.toJsonString,parseJson:o.parseJson,urlParametersToJson:o.urlParametersToJson,createIframe:a.createIframe,createImage:a.createImage,createIframeOrImage:a.createIframeOrImage,setElementSize:a.setElementSize,getCustomParameters:a.getCustomParameters,getPlacementData:a.getPlacementData,getClientTimeZone:s.getClientTimeZone}}},{"./banners":4,"./date":6,"./device":7,"./event":8,"./json":11,"./macro":12,"./style":14,"./tracking":15}],4:[function(e,t,n){t.exports=function(){var i=e("./device"),l=e("./tracking")(),a=e("./event");return{createIframe:function(e,t,n,i,r){var o=document.createElement("iframe"),a="image"==i?n.srcImage:n.srcAnimated,s=l.getClickPixelUrl(e,n,t),c=(-1<a.indexOf("?")?"&":"?")+"clickpixel="+encodeURIComponent(s)+(e.targetUrl?"&targeturl="+encodeURIComponent(e.targetUrl):"")+"&targetwindow="+e.targetWindow+this.getCustomParameters(r)+"&ref="+encodeURIComponent(l.getDomain());return o.src=(0===a.indexOf("http")||0===a.indexOf("/api")?"":l.getProtocol(e))+a+c,o.className="bf_"+i,this.setElementSize(o,e,t),o.style.backgroundColor=r["background-color"]?r["background-color"]:"transparent",o.frameBorder=0,o.allowtransparency="true",o.style.border="none",o.scrolling="no",o.id="bf_"+1*new Date+parseInt(1e4*Math.random()),o["data-index"]=t.index,o},createImage:function(e,t,n,i,r){var o=document.createElement("img");return o.src=n.imageUrl,o.className="bf_polite",this.setElementSize(o,e,t),o.style.height="auto",o.style.backgroundColor=r["background-color"]?r["background-color"]:"transparent",o.style.outline="none",o.style.border="none",o.style.cursor="pointer",o.id="bf_"+1*new Date+parseInt(1e4*Math.random()),o["data-index"]=t.index,a.bindEvent(o,"click",function(){l.click(e,r,t.index)}),o},createIframeOrImage:function(e,t,n,i,r){return e.imageIframe||"image"!==i||!n.imageUrl?this.createIframe(e,t,n,i,r):this.createImage(e,t,n,i,r)},setElementSize:function(e,t,n){e.setAttribute("style","max-width: none !important;max-height: none !important;"),e.style.width=t.responsive&&!i.supportsHtml5()?"100%":n.size.width,e.style.height=t.responsive&&!i.supportsHtml5()?"100%":n.size.height,e.style.position="absolute",e.style.top=e.style.left="0"},getCustomParameters:function(e){var t,n=",targetwindow,targeturl,display,responsive,politeloading,",i="";for(t in e)-1==n.indexOf(","+t+",")&&(i+="&"+t+"="+e[t]);return i},getPlacementData:function(e){var t,n,i=window.BFBanners||[];for(t=0;t<i.length;t++)if(e===(n=i[t]).placement.id)return n}}}},{"./device":7,"./event":8,"./tracking":15}],5:[function(e,t,n){t.exports=function(){var e,t=navigator.userAgent,n=t.match(/(opera|edge|chrome|crios|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(n[1]))return{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""};if("Chrome"===n[1]){if(e=t.match(/\bOPR\/(\d+)/))return{name:"Opera",version:e[1]};if(e=t.match(/(edge(?=\/))\/?\s*(\d+)/i))return{name:"Edge",version:e[e.length-1]}}return n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0].replace(/MSIE/g,"IE").replace(/CriOS/gi,"Chrome iOS"),version:n[1]}}()},{}],6:[function(e,t,n){t.exports={getClientTimeZone:function(){function e(e){var t=Math.floor(Math.abs(e));return(t<10?"0":"")+t}var t=-(new Date).getTimezoneOffset();return(0<=t?"+":"-")+e(t/60)+e(t%60)}}},{}],7:[function(e,t,n){t.exports={isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|SamsungBrowser|IEMobile|Opera Mini/i.test(navigator.userAgent)},isTouchDevice:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},supportsHtml5:function(){var e,t,n,i,r,o,a;if(-1<navigator.userAgent.indexOf("Android")){if(Number(navigator.userAgent.match(/Android\s(.*?);/i)[1].split(".").slice(0,2).join("."))<4.1)return!1;if(-1<navigator.userAgent.indexOf("Firefox"))return!1}if((e=function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:void 0}())&&e<10)return!1;if(navigator.appVersion)try{if(-1<(n=(t=navigator.appVersion.split("/"))[t.length-2]).indexOf("Safari")&&Number(n.split(".")[0])<=5)return!1}catch(e){}if("string"==typeof(i=(document.body||document.documentElement).style)[r="transition"])return!0;for(o=["Moz","webkit","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1),a=0;a<o.length;a++)if("string"==typeof i[o[a]+r])return!0;return!1},isiOS:function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}}},{}],8:[function(e,t,n){t.exports={bindEvent:function(e,t,n,i){e===window&&"load"===t&&"complete"===document.readyState?n(null):e!==document||"ready"!==t||"interactive"!==document.readyState&&"complete"!==document.readyState?e.addEventListener?e.addEventListener(t,n,i):e.attachEvent&&e.attachEvent("on"+t,n):n(null)},debounce:function(t,n,i){var r,o,a,s,c,l;if("function"!=typeof t)throw"A function has to be provided to be able to debounce!";return l=function(){var e=Date.now()-s;e<n&&0<=e?r=setTimeout(l,n-e):(r=null,i||(c=t.apply(a,o),r||(a=o=null)))},function(){a=this,o=arguments,s=Date.now();var e=i&&!r;return r=r||setTimeout(l,n),e&&(c=t.apply(a,o),a=o=null),c}},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)},dispatchEvent:function(t,e,n){var i,r,o,a;try{i=new Event(t)}catch(e){(i=document.createEvent("Event")).initEvent(t,!0,!1)}if(i.data=e,n&&document.createEvent)n.dispatchEvent(i);else if(vars._listeners[i.type]instanceof Array)for(o=0,a=(r=vars._listeners[i.type]).length;o<a;o++)r[o].call(vars,i,e)}}},{}],9:[function(e,t,n){t.exports=(Math.limit||(Math.limit=function(e,t,n){return this.min(this.max(e,t),n)}),Math.roundTo||(Math.roundTo=function(e,t){return t=Math.abs(t)||1,Math.round(e/t)*t}),Math.floorTo||(Math.floorTo=function(e,t){return t=Math.abs(t)||1,Math.floor(e/t)*t}),Math.ceilTo||(Math.ceilTo=function(e,t){return t=Math.abs(t)||1,Math.ceil(e/t)*t}),Math.toDegrees||(Math.toDegrees=function(e){return 180*e/Math.PI}),Math.toRadians||(Math.toRadians=function(e){return e*Math.PI/180}),Math.closest||(Math.closest=function(e,t){var n,i,r=0,o=Number.MAX_VALUE;for(r in e)(i=Math.abs(parseFloat(t)-parseFloat(e[r])))<o&&(o=i,n=parseFloat(e[r]));return n}),Math.toNumber||(Math.toNumber=function(e,t){var n=null!=e?parseFloat(e.toString().replace(",",".").replace(/[^\.\d-]/g,""),10):NaN;return isNaN(n)&&void 0!==t?t:n}),void(Math.toInt||(Math.toInt=function(e,t){var n=null!=e?parseInt(e.toString().replace(",",".").replace(/[^\.\d-]/g,""),10):NaN;return isNaN(n)&&void 0!==t?t:n})))},{}],10:[function(e,t,n){t.exports=(String.prototype.capitalize||(String.prototype.capitalize=function(){return this[0].toUpperCase()+this.slice(1)}),String.isString||(String.isString=function(e){return"string"==typeof e||e instanceof String}),String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}),void(String.prototype.camelCase||(String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})})))},{}],11:[function(e,t,n){t.exports={toJsonString:function(e){return JSON.stringify(e)},urlParametersToJson:function(e){var t,n,i=-1<e.indexOf("?")?e.split("?")[1]:e,r=i.split("&"),o={};for(t=0;t<r.length;t++)o[(n=r[t].split("="))[0]]=n[1];return o}}},{}],12:[function(e,t,n){t.exports={resolveMacros:function(e,t){var n,i,r,o=["_double-escaped%","_escaped%","%"];for(e=e.replace("%random%",(new Date).getTime()),n=0;n<o.length;n++)for(i in t)r=t[i],0===n?r=encodeURIComponent(encodeURIComponent(r)):1===n&&(r=encodeURIComponent(r)),e=e.replace(new RegExp("%"+i+o[n],"gi"),r);return e},getMacros:function(e){var t,n={};for(t in e)n["parameter_"+t]=e[t];return n}}},{}],13:[function(e,t,n){t.exports=("undefined"!=typeof console&&void 0!==console.log||(window.console={log:function(){}}),console.warn=console.warn||console.log,void(console.error=console.error||console.log))},{}],14:[function(e,t,n){t.exports={prefixes:["webkit","moz","ms","o"],setVendorStyle:function(e,t,n,i){var r,o=t.charAt(0).toUpperCase()+t.slice(1);for(r=0;r<this.prefixes.length;r++)e.style[this.prefixes[r]+o]=i?"-"+this.prefixes[r]+"-"+n:n;e.style[t]=n},getStyle:function(e,t){var n,i,r,o,a=(e.ownerDocument||document).defaultView;return a&&a.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),a.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?(i=n,r=e.style.left,o=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,e.style.left=i||0,i=e.style.pixelLeft+"px",e.style.left=r,e.runtimeStyle.left=o,i):n):void 0}}},{}],15:[function(e,t,n){t.exports=function(){e("./json");var a=e("./macro"),s=e("./event"),o=e("./device"),t=e("./browser"),c=e("./date"),l={trackingData:function(e,t){var n,i=[],r=[];for(n=0;n<t.length;n++)i.push(t[n].id),r.push(t[n].bannerset);return{account:e.account.id,brand:e.brand.id,placement:e.id,ad:e.ad.id,bannerset:r.join(),banner:i.join()}},getImpressionPixelUrl:function(e,t){if(!e.bftracking.preview&&window.JSON){var n=this.trackingData(e,t);return this.getProtocol(e)+e.bftracking.url+encodeURIComponent(JSON.parse(n))}},sendBeacon:function(e,t){var n;if(!location||!(-1<location.hostname.indexOf("www.bannerflow.")||-1<location.hostname.indexOf("app.bannerflow.")||-1<location.hostname.indexOf("blog.bannerflow."))){try{t&&"string"!=typeof t&&(t=JSON.stringify(t))}catch(e){}navigator&&navigator.sendBeacon?navigator.sendBeacon(e,t):XMLHttpRequest?((n=new XMLHttpRequest).open("POST",e,!1),n.send(t)):(new Image).src=e}},loadPixel:function(e){location&&(-1<location.hostname.indexOf("www.bannerflow.")||-1<location.hostname.indexOf("app.bannerflow.")||-1<location.hostname.indexOf("blog.bannerflow."))||(t&&"IE"===t.name&&parseInt(t.version),(new Image).src=e)},getClickPixelUrl:function(e,t,n){var i,r;return e.bftracking.preview||!window.JSON?"":((i=this.trackingData(e,[t])).spotIndexes=n.index,i.bannerIds=t.id,r=encodeURIComponent(JSON.stringify(i)),e.bftracking.clickUrl+r)},trackImpression:function(e,t,n){var i,r,o;e.bftracking&&e.bftracking.preview||(this.queueTrackingEvent(e,1,n,0,!0,t),t.impressionpixel&&(i=(i=decodeURIComponent(t.impressionpixel))+(-1<i.indexOf("?")?"&":"?")+"cb="+(new Date).getTime(),this.loadPixel(i,!0)),t.impressionscript&&((r=document.createElement("script")).type="text/javascript",r.async=!0,r.src=decodeURIComponent(t.impressionscript),0<(o=document.getElementsByTagName("script")).length&&o[0].parentNode.insertBefore(r,o[0])),e.network&&e.network.tag.patternImpressionPixel&&this.loadPixel(this.getProtocol(e)+a.resolveMacros(e.network.tag.patternImpressionPixel,a.getMacros(t))))},fixUrl:function(e,t){return e?(0===e.indexOf("//")?e=this.getProtocol(t)+e:0!==e.indexOf("http")&&(e="http://"+e),e):""},getProtocol:function(e){return(e?e.protocol:null)||window.location.protocol},click:function(e,t,n,i,r){var o,a,s,c;n=n||0,this.getClickPixelUrl(e,e.ad.spots[n].selectedBanner,e.ad.spots[n])&&e.bftracking&&!e.bftracking.preview&&this.queueTrackingEvent(e,2,r,n,!0,e.$params),t.clickpixel&&((new Image).src=decodeURIComponent(t.clickpixel)),t.clickscript&&((o=document.createElement("script")).type="text/javascript",o.async=!0,o.src=decodeURIComponent(t.clickscript),0<(a=document.getElementsByTagName("script")).length&&a[0].parentNode.insertBefore(o,a[0])),s=this.fixUrl(e.ad.spots[n].selectedBanner.targeturl),(c=(c=e.targetUrl||s).replace(/\[target_url\]/gi,s).replace(/\[target_url_esc\]/gi,encodeURIComponent(s)).replace(/\[target_url_esc_esc\]/gi,encodeURIComponent(encodeURIComponent(s))))&&!i&&(window.mraid&&window.mraid.open?mraid.open(this.fixUrl(c)):window.open(this.fixUrl(c),e.targetWindow||"_blank"))},isInView:function(e,t){return!!e.getBoundingClientRect&&(t?0<this.viewGrade(e):1<=this.viewGrade(e))},viewGrade:function(e){var t,n,i,r,o;return e.getBoundingClientRect?(n=(t=e.getBoundingClientRect()).right-t.left,i=t.bottom-t.top,r=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,Math.min(n,Math.max(0,t.right))/n*(Math.min(n,Math.max(0,r-t.left))/n)*(Math.min(i,Math.max(0,t.bottom))/i)*(Math.min(i,Math.max(0,o-t.top))/i)):0},getTrackingData:function(e,t){var n,i,r;return t=t||{},e.$sid=e.$sid||1*new Date+"_"+Math.floor(1e5*Math.random()),n=e.$bannersToDisplay?e.$bannersToDisplay[0]:{},i={u:{sr:[window.screen.width,window.screen.height],tz:c.getClientTimeZone(),r:this.getDomain(t)},a:{}},(r=function(e,t,n){n=n||"a",!t&&0!==t||(i[n][e]=t)})("s",e.$sid,"u"),r("vs",e.$renderVersion),r("a",e.account.id),r("br",e.brand.id),r("c",n.bannerset),r("ad",e.ad.id),r("p",e.id),r("b",n.id),r("pl",e.politeLoading?1:0),r("r",e.responsive?1:0),r("an","animated"===e.displayType?1:0),r("s",n.sizeFormatId),r("t",n.translationId),r("l",n.localizationId),r("bf",n.bannerFormatId),r("cid",t.customid),r("ch",t.channel),r("cp",e.campaignId),r("si",e.scheduleId),r("p161",t.p161),i},queueTrackingEvent:function(e,t,n,i,r,o){var a=this;e.$tq=e.$tq||[],(n=n||{}).s=i||0,e.$tq.push({d:(new Date).getTime(),t:t,v:n}),r?(e.$tto&&clearTimeout(e.$tto),e.$tto=null,a.sendTrackingData(e,o,!0)):e.$tto||(e.$tto=setTimeout(function(){e.$tto=null,a.sendTrackingData(e,o)},12e4))},queueProgressEvent:function(e,t,n,i,r,o){var a,s,c;for(e.$ptq=e.$ptq||[],(n=n||{}).s=i||0,a=0;a<e.$ptq.length;a++)if((c=(s=e.$ptq[a]).v).n===n.n&&c.id===n.id&&c.l===n.l)return void(s.v=n);e.$ptq.push({d:(new Date).getTime(),t:t,v:n})},processProgressEventQueue:function(e){e.$ptq&&e.$ptq.length&&!e.$queueProcessed&&(e.$tq=(e.$tq||[]).concat(e.$ptq),e.$ptq=[],e.$queueProcessed=!0)},sendTrackingData:function(e,t,n){var i,r,o,a,s,c,l,d=this,u=2e3,p=e.$tq||[];if(!e.bftracking.preview&&p.length&&window.JSON&&("shared.bannerflow.com"!==location.host||"off"!==t.tracking)){if(i=this.getTrackingData(e,t),r=e.bftracking.trackerUrl||"https://tracker.bannerflow.com/api/tr/v1/pixel?data=",n)for(o=r.length;p.length;){for(a=p.length,s=p.slice(0,a),c=encodeURIComponent(JSON.stringify(s));o+c.length>u&&1<a;)a--,s=p.slice(0,a),c=encodeURIComponent(JSON.stringify(s));i.e=p.splice(0,a),l=r+encodeURIComponent(JSON.stringify(i)),d.loadPixel(l)}else i.e=p,this.sendBeacon(r,i);e.$tq=[]}},supportViewable:function(){return document.createEvent&&(!u()||window.mraid&&mraid.getState||window.IntersectionObserver)},initViewable:function(i,r,o){var e,t;l.supportViewable()&&(s.bindEvent(i,"inview",function(){!function(e,t,n){t.$tivf||(t.$tit=setTimeout(function(){l.queueTrackingEvent(t,3,{},0,!0,n),t.$tivf=!0},1e3));t.$vt=(new Date).getTime()}(0,r,o)}),s.bindEvent(i,"notinview",function(){n(i,r)}),s.bindEvent(window,"beforeunload",function(){n(i,r),r.$tiv&&l.queueTrackingEvent(r,4,{i:r.$tiv,t:(new Date).getTime()-r.$it},0,!1,o)}),e=function(){d(i,r,o)},s.bindEvent(document,"visibilitychange",e),u()?window.IntersectionObserver?new IntersectionObserver(function(e,t){var n=e[0].intersectionRatio;d(i,r,o,n)},{threshold:[.3,.5]}).observe(i):window.mraid&&mraid.getState&&(t=function(){mraid.isViewable()&&s.dispatchEvent("inview",{},i),s.bindEvent(mraid,"viewableChange",function(e){e?s.dispatchEvent("inview",{},i):s.dispatchEvent("notinview",{},i)})},"loading"===mraid.getState()?s.bindEvent(mraid,"ready",t):t()):(s.bindEvent(window,"scroll",e),s.bindEvent(window,"resize",e),s.bindEvent(window,"focus",e),s.bindEvent(window,"blur",function(){d(i,r,o,0)}),e()))},getDomain:function(e){var t,n,i,r=e&&e.domain&&"${DetectedDomain}"!==e.domain?decodeURIComponent(e.domain):"";return!r&&window.context&&(r=window.context.canonicalUrl),r||(n=(t=function(){var e=window;for(;e.parent&&e!==e.parent;)try{if(e.parent.location.href,!e.parent.document)break;e=e.parent}catch(e){break}return e}()).document,i=t.location||(n?n.location:void 0),n&&n.referrer&&u(t)?r=n.referrer:i&&i.href&&(r=i.href)),r.replace(/\?.*/g,"")}};function d(e,t,n,i,r){i=void 0!==i?i:l.viewGrade(e),r=r||function(e,t){return o.isMobile()?.5:242500<(e.clientWidth||t.ad.size.width)*(e.clientHeight||t.ad.size.height)?.3:.5}(e,t),t.$iv&&(i<r||document.hidden)?(t.$iv=!1,s.dispatchEvent("notinview",{},e,n)):!t.$iv&&r<=i&&!document.hidden&&(t.$iv=!0,s.dispatchEvent("inview",{},e,n))}function n(e,t){t.$tit&&(clearTimeout(t.$tit),t.$tit=null),t.$vt&&(t.$tiv=(t.$tiv||0)+((new Date).getTime()-t.$vt)),t.$vt=null}function u(e){try{return(e=e||window).self!==window.top}catch(e){return!0}}return l}},{"./browser":5,"./date":6,"./device":7,"./event":8,"./json":11,"./macro":12}]},{},[1]);
//# sourceMappingURL=render.min.js.map
